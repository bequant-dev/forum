# Discourse Configuration for BeQuant Forum
# This file will be copied to /opt/bitnami/discourse/mounted-conf/

# Basic Configuration
DISCOURSE_HOSTNAME=${DISCOURSE_HOSTNAME}
DISCOURSE_DEVELOPER_EMAILS=${DISCOURSE_DEVELOPER_EMAILS}

# Database Configuration (Railway PostgreSQL)
DISCOURSE_DB_HOST=${DATABASE_HOST}
DISCOURSE_DB_NAME=${DATABASE_NAME}
DISCOURSE_DB_USERNAME=${DATABASE_USERNAME}
DISCOURSE_DB_PASSWORD=${DATABASE_PASSWORD}

# Redis Configuration (Railway Redis)
DISCOURSE_REDIS_HOST=${REDIS_HOST}
DISCOURSE_REDIS_PORT=${REDIS_PORT}
DISCOURSE_REDIS_PASSWORD=${REDIS_PASSWORD}

# SMTP Configuration (Gmail)
DISCOURSE_SMTP_ADDRESS=smtp.gmail.com
DISCOURSE_SMTP_PORT=587
DISCOURSE_SMTP_USER_NAME=${DISCOURSE_SMTP_USER_NAME}
DISCOURSE_SMTP_PASSWORD=${DISCOURSE_SMTP_PASSWORD}
DISCOURSE_SMTP_ENABLE_START_TLS=true
DISCOURSE_SMTP_DOMAIN=bequant.dev

# OAuth2 Configuration (Clerk)
DISCOURSE_OAUTH2_CLIENT_ID=${CLERK_OAUTH2_CLIENT_ID}
DISCOURSE_OAUTH2_CLIENT_SECRET=${CLERK_OAUTH2_CLIENT_SECRET}
DISCOURSE_OAUTH2_AUTHORIZE_URL=https://clerk.bequant.dev/oauth/authorize
DISCOURSE_OAUTH2_TOKEN_URL=https://clerk.bequant.dev/oauth/token
DISCOURSE_OAUTH2_USER_INFO_URL=https://clerk.bequant.dev/oauth/userinfo

# Disable AI features (pg_vector not available on Railway)
DISCOURSE_AI_ENABLED=false
DISCOURSE_AI_BOT_ENABLED=false
DISCOURSE_AI_HELPER_ENABLED=false
DISCOURSE_AI_EMBEDDINGS_ENABLED=false

# Security settings
DISCOURSE_FORCE_HTTPS=true
DISCOURSE_USE_CDN=false

# Performance settings for Railway
DISCOURSE_WORKER_PROCESSES=1
DISCOURSE_WEB_CONCURRENCY=1 